@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --font-cal:
    var(--font-cal), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  --font-sans:
    var(--font-sans), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono:
    var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;

  --animate-fade-up: fade-up 0.5s;
  --animate-fade-down: fade-down 0.5s;
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes fade-up {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }
    80% {
      opacity: 0.6;
    }
    100% {
      opacity: 1;
      transform: translateY(0px);
    }
  }
  @keyframes fade-down {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }
    80% {
      opacity: 0.6;
    }
    100% {
      opacity: 1;
      transform: translateY(0px);
    }
  }
  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: hsl(var(--border));
  }
}

@utility step {
  counter-increment: step;

  &:before {
    @apply bg-accent font-cal absolute inline-flex h-8 w-8 items-center justify-center rounded-full text-center -indent-px text-base font-medium;
    @apply ml-[-41px];
    content: counter(step);
  }
}

@utility hamburger {
  /* Hamburger menu icon animation */

  & svg g {
    @apply origin-center;
    transition: transform 0.1s ease-in-out;
  }
  & svg path {
    @apply opacity-100;
    transition:
      transform 0.1s ease-in-out 0.1s,
      opacity 0.1s ease-in-out;
  }
  & svg.open path {
    transition:
      transform 0.1s ease-in-out,
      opacity 0s ease-in-out;
  }
  & svg.open g {
    transition: transform 0.1s ease-in-out 0.1s;
  }
  & svg.open > path {
    @apply opacity-0;
  }
  & svg.open > g:nth-of-type(1) {
    @apply rotate-45;
  }
  & svg.open > g:nth-of-type(1) path {
    transform: translate3d(0, 6px, 0);
  }
  & svg.open > g:nth-of-type(2) {
    @apply -rotate-45;
  }
  & svg.open > g:nth-of-type(2) path {
    transform: translate3d(0, -6px, 0);
  }
}

@utility open {
  .hamburger &svg path {
    transition:
      transform 0.1s ease-in-out,
      opacity 0s ease-in-out;
  }
  .hamburger &svg g {
    transition: transform 0.1s ease-in-out 0.1s;
  }
  .hamburger &svg > path {
    @apply opacity-0;
  }
  .hamburger &svg > g:nth-of-type(1) {
    @apply rotate-45;
  }
  .hamburger &svg > g:nth-of-type(1) path {
    transform: translate3d(0, 6px, 0);
  }
  .hamburger &svg > g:nth-of-type(2) {
    @apply -rotate-45;
  }
  .hamburger &svg > g:nth-of-type(2) path {
    transform: translate3d(0, -6px, 0);
  }
}

@utility line {
  pre > code > &::before {
    counter-increment: line;
    content: counter(line);

    /* Other styling */
    display: inline-block;
    width: 1rem;
    margin-right: 1rem;
    text-align: right;
    color: var(--muted-foreground);
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 47.4% 11.2%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 100% 50%;
    --destructive-foreground: 210 40% 98%;

    --ring: 215 20.2% 65.1%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;

    --muted: 223 47% 11%;
    --muted-foreground: 215.4 16.3% 56.9%;

    --popover: 224 71% 4%;
    --popover-foreground: 215 20.2% 65.1%;

    --card: 224 71% 4%;
    --card-foreground: 213 31% 91%;

    --border: 216 34% 17%;
    --input: 216 34% 17%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 1.2%;

    --secondary: 222.2 47.4% 11.2%;
    --secondary-foreground: 210 40% 98%;

    --accent: 216 34% 17%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --ring: 216 34% 17%;

    --radius: 0.5rem;
  }
}

@layer base {
  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }
}

pre > code {
  counter-reset: line;
  padding: unset !important;
}

[data-rehype-pretty-code-fragment] {
  @apply relative;
}
[data-rehype-pretty-code-figure] {
  @apply relative;
}

[data-language-icon] {
  @apply hidden;
}

[data-rehype-pretty-code-title] {
  padding: 0.75rem 0 0.75rem 2.5rem;
  @apply bg-accent font-cal mt-4 rounded-t-lg border border-b-0;
}

[data-rehype-pretty-code-title]:has(+ [data-language-icon]) {
  @apply pl-12;
}

[data-rehype-pretty-code-title] ~ pre {
  @apply mt-0 rounded-t-none;
}

[data-rehype-pretty-code-title] ~ [data-language-icon] {
  @apply block dark:hidden;
}

[data-rehype-pretty-code-title] ~ [data-language-icon] {
  @apply hidden dark:block;
}

[data-theme="light"]:not([data-language-icon]) {
  @apply block dark:hidden;
}

[data-theme="dark"]:not([data-language-icon]) {
  @apply hidden dark:block;
}

[data-rehype-pretty-code-fragment] .line--highlighted {
  @apply bg-muted-foreground/40 rounded p-1;
}
[data-rehype-pretty-code-fragment] .word {
  @apply bg-muted-foreground/40 rounded p-1;
}

[data-highlighted-chars] {
  @apply bg-muted-foreground/40 rounded p-1;
}
