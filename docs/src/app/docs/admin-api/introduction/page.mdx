# Introduction

`@ts-ghost/admin-api` provides a strongly-typed TypeScript client to interract with the Ghost Admin API based on [Zod](https://github.com/colinhacks/zod) schemas passed through all operations on composed API endpoints, `read`, `browse`, `add`, `edit` and `delete`.

This client gives you Type-Safety in the **inputs and outputs** of your Ghost API calls, usable in the browser (not recommended since you will probably expose your Admin API Key) or in Node.js.

It is made to interract with the Ghost Admin API with authentication by key. File uploads are not supported yet.

![admin-api-typesafety](https://user-images.githubusercontent.com/4941205/227786623-facb8e6c-dbe4-45ff-9b6e-721a05cedaba.gif)

## Available resources:

| API               | `.read()` | `.browse()` | `.add()` | `.edit()` | `.delete()` |
| ----------------- | --------- | ----------- | -------- | --------- | ----------- |
| `api.posts`       | âœ…        | âœ…          | âœ…       | âœ…        | âœ…          |
| `api.pages`       | âœ…        | âœ…          | âœ…       | âœ…        | âœ…          |
| `api.members`     | âœ…        | âœ…          | âœ…       | âœ…        | âœ…          |
| `api.tiers`       | âœ…        | âœ…          | -        | -         | -           |
| `api.newsletters` | âœ…        | âœ…          | âœ…       | âœ…        | ğŸ—„ï¸\*        |
| `api.offers`      | âœ…        | âœ…          | âœ…       | âœ…        | ğŸ—„ï¸\*        |
| `api.tags`        | âœ…        | âœ…          | âœ…       | âœ…        | âœ…          |
| `api.users`       | âœ…        | âœ…          | -        | -         | -           |
| `api.webhooks`    | -         | -           | âœ…       | âœ…        | âœ…          |

ğŸ—„ï¸\* _You have access to a "soft" delete via the `status` field with values `"active" | "archived"`._

## Install

```shell
pnpm i @ts-ghost/admin-api
```

### Admin API Key

Admin API keys can be obtained by creating a new Custom Integration under the Integrations screen in Ghost Admin. Keys for individual users can be found on their respective settings page.

My advice would be to connect to your Ghost Admin panel and go to `https://{your-ghost-blog-domain}/ghost/#/settings/integrations` and create a new integration, choose an appropriate Name and Descriptions.

![ts-ghost-api-key](https://user-images.githubusercontent.com/4941205/232329788-28e062b9-ecae-4adb-b340-c00d97aab78f.png)

For all operations You will need:

- the `Admin API Key`
- and the `API URL` to instantiate the client.

If you plan on creating `webhooks` you will also need to provide the `integration_id`, this is the auto-generated ID of the integration you just created.
To visualize that id, on your integration page, look at the url:

- `https://{your-ghost-blog-domain}/ghost/#/settings/integrations/63887c187f2cf32001fec9a8`

The last part `63887c187f2cf32001fec9a8` is the `integration_id`.

### Requirements

This client is only compatible with Ghost versions 5.x for now.

- Ghost 5^

- Node.js 16+
  - We rely on global `fetch` being available, so you can bring your own
    polyfill and if you run Node 16, you'll need to run with the
    `--experimental-fetch` flag enabled.
